<script setup>
const tableRef = ref(null)

const data = ref([
	{
		userNo: 111,
		userName: 'ç”¨æˆ·å·1',
		cardNo: 111,
	},
	{
		userNo: 222,
		userName: 'ç”¨æˆ·å·2',
		cardNo: 222,
	},
	{
		userNo: 333,
		userName: 'ç”¨æˆ·å·3',
		cardNo: 333,
	},
	{
		userNo: 444,
		userName: 'ç”¨æˆ·å·4',
		cardNo: 444,
	},
	{
		userNo: 555,
		userName: 'ç”¨æˆ·å·5',
		cardNo: 555,
	},
])
const columns = ref([
	{
		type: 'selection',
		width: 60,
	},
	{
		type: 'index',
		width: 60,
		label: 'åºå·',
	},
	{
		prop: 'userNo',
		label: 'ç”¨æˆ·å·',
	},
	{
		prop: 'userName',
		label: 'ç”¨æˆ·åç§°',
		columns: [
			{
				prop: 'age',
				label: 'å¹´é¾„',
			},
			{
				prop: 'sex',
				label: 'æ€§åˆ«',
			},
		],
	},
	{
		prop: 'cardNo',
		label: 'è¡¨å¡ç¼–å·',
	},
	{
		prop: 'deal',
		label: 'æ“ä½œ',
		width: 100,
	},
])

const handleSelectionChange = data => {
	console.log('ðŸš€ ~ file: index.vue:54 ~ handleSelectionChange ~ data:', data)
}
const handleEdit = rowData => {
	console.log('ðŸš€ ~ file: index.vue:76 ~ handleEdit ~ rowData:', rowData)
}
</script>

<template lang="pug">
.g-form-demo
	g-table(
		ref='tableRef',
		:data='data',
		:columns='columns',
		border,
		stripe,
		@selection-change='handleSelectionChange'
	)
		template(#deal='{ row }')
			el-button(v-blur, type='primary', size='small', @click='handleEdit(row)') ç¼–è¾‘
</template>

<style lang="scss" scoped>
.g-form-demo {
	padding: 12px;
	height: 100%;
}
</style>
